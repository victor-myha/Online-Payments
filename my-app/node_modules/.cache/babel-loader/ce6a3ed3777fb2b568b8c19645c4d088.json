{"ast":null,"code":"var _jsxFileName = \"/Users/victor-myha/Desktop/PDP/Online Payments/my-app/src/components/Stripe/StripeForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\nimport axios from 'axios';\nimport styles from './StripeForm.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CARD_OPTIONS = {\n  iconStyle: 'solid',\n  style: {\n    base: {\n      iconColor: '#c4f0ff',\n      color: '#fff',\n      fontWeight: 500,\n      fontFamily: 'Roboto, Open Sans, Segoe UI, sans-serif',\n      fontSize: '16px',\n      fontSmoothing: 'antialiased',\n      ':-webkit-autofill': {\n        color: '#fce883'\n      },\n      '::placeholder': {\n        color: '#87bbfd'\n      }\n    },\n    invalid: {\n      iconColor: '#ffc7ee',\n      color: '#ffc7ee'\n    }\n  }\n};\n\nconst StripeForm = () => {\n  _s();\n\n  const [success, setSuccess] = useState(false);\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: (elements === null || elements === void 0 ? void 0 : elements.getElement(CardElement)) || {\n        token: ''\n      }\n    });\n\n    if (!error) {\n      try {\n        const {\n          id\n        } = paymentMethod;\n        const response = await axios.post('http://localhost:4000/payment', {\n          amount: 1000,\n          id\n        });\n\n        if (response.data.success) {\n          console.log('Successful payment');\n          setSuccess(true);\n        }\n      } catch (error) {\n        console.log('Error', error);\n      }\n    } else {\n      console.log(error.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !success ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n        className: styles.FormGroup,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.FormRow,\n          children: /*#__PURE__*/_jsxDEV(CardElement, {\n            options: CARD_OPTIONS\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Pay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"You just bought ware\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(StripeForm, \"6hDlQMsgCa6cRk+jdFUeEqLw/RU=\", false, function () {\n  return [useStripe, useElements];\n});\n\n_c = StripeForm;\nexport default StripeForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"StripeForm\");","map":{"version":3,"names":["useState","CardElement","useElements","useStripe","axios","styles","CARD_OPTIONS","iconStyle","style","base","iconColor","color","fontWeight","fontFamily","fontSize","fontSmoothing","invalid","StripeForm","success","setSuccess","stripe","elements","handleSubmit","e","preventDefault","error","paymentMethod","createPaymentMethod","type","card","getElement","token","id","response","post","amount","data","console","log","message","FormGroup","FormRow"],"sources":["/Users/victor-myha/Desktop/PDP/Online Payments/my-app/src/components/Stripe/StripeForm.tsx"],"sourcesContent":["import { FormEvent, useState } from 'react';\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\nimport { Stripe, StripeCardElementOptions } from '@stripe/stripe-js';\nimport axios from 'axios';\nimport styles from './StripeForm.module.scss';\n\nconst CARD_OPTIONS: StripeCardElementOptions = {\n\ticonStyle: 'solid',\n\tstyle: {\n\t\tbase: {\n\t\t\ticonColor: '#c4f0ff',\n\t\t\tcolor: '#fff',\n\t\t\tfontWeight: 500,\n\t\t\tfontFamily: 'Roboto, Open Sans, Segoe UI, sans-serif',\n\t\t\tfontSize: '16px',\n\t\t\tfontSmoothing: 'antialiased',\n\t\t\t':-webkit-autofill': { color: '#fce883' },\n\t\t\t'::placeholder': { color: '#87bbfd' }\n\t\t},\n\t\tinvalid: {\n\t\t\ticonColor: '#ffc7ee',\n\t\t\tcolor: '#ffc7ee'\n\t\t}\n\t}\n};\n\nconst StripeForm = () => {\n\tconst [success, setSuccess] = useState(false);\n\tconst stripe = useStripe();\n\tconst elements = useElements();\n\n\tconst handleSubmit = async (e: FormEvent) => {\n\t\te.preventDefault();\n\t\tconst {error, paymentMethod} = await stripe!.createPaymentMethod({\n\t\t\ttype: 'card',\n\t\t\tcard: elements?.getElement(CardElement) || {token: ''}\n\t\t});\n\n\n\t\tif(!error) {\n\t\t\ttry {\n\t\t\t\tconst {id} = paymentMethod;\n\t\t\t\tconst response = await axios.post('http://localhost:4000/payment', {\n\t\t\t\t\tamount: 1000,\n\t\t\t\t\tid\n\t\t\t\t});\n\n\t\t\t\tif(response.data.success) {\n\t\t\t\t\tconsole.log('Successful payment');\n\t\t\t\t\tsetSuccess(true);\n\t\t\t\t}\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('Error', error);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log(error.message);\n\t\t}\n\t};\n    \n\treturn (\n\t\t<>\n\t\t\t{!success ? \n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<fieldset className={styles.FormGroup}>\n\t\t\t\t\t\t<div className={styles.FormRow}>\n\t\t\t\t\t\t\t<CardElement options={CARD_OPTIONS}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<button>Pay</button>\n\t\t\t\t</form>\n\t\t\t\t:\n\t\t\t\t<div>\n\t\t\t\t\t<h2>You just bought ware</h2>\n\t\t\t\t</div> \n\t\t\t}\n            \n\t\t</>\n\t);\n}; \n\nexport default StripeForm;"],"mappings":";;;AAAA,SAAoBA,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,EAAmCC,SAAnC,QAAoD,yBAApD;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;;AAEA,MAAMC,YAAsC,GAAG;EAC9CC,SAAS,EAAE,OADmC;EAE9CC,KAAK,EAAE;IACNC,IAAI,EAAE;MACLC,SAAS,EAAE,SADN;MAELC,KAAK,EAAE,MAFF;MAGLC,UAAU,EAAE,GAHP;MAILC,UAAU,EAAE,yCAJP;MAKLC,QAAQ,EAAE,MALL;MAMLC,aAAa,EAAE,aANV;MAOL,qBAAqB;QAAEJ,KAAK,EAAE;MAAT,CAPhB;MAQL,iBAAiB;QAAEA,KAAK,EAAE;MAAT;IARZ,CADA;IAWNK,OAAO,EAAE;MACRN,SAAS,EAAE,SADH;MAERC,KAAK,EAAE;IAFC;EAXH;AAFuC,CAA/C;;AAoBA,MAAMM,UAAU,GAAG,MAAM;EAAA;;EACxB,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBnB,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAMoB,MAAM,GAAGjB,SAAS,EAAxB;EACA,MAAMkB,QAAQ,GAAGnB,WAAW,EAA5B;;EAEA,MAAMoB,YAAY,GAAG,MAAOC,CAAP,IAAwB;IAC5CA,CAAC,CAACC,cAAF;IACA,MAAM;MAACC,KAAD;MAAQC;IAAR,IAAyB,MAAMN,MAAM,CAAEO,mBAAR,CAA4B;MAChEC,IAAI,EAAE,MAD0D;MAEhEC,IAAI,EAAE,CAAAR,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAES,UAAV,CAAqB7B,WAArB,MAAqC;QAAC8B,KAAK,EAAE;MAAR;IAFqB,CAA5B,CAArC;;IAMA,IAAG,CAACN,KAAJ,EAAW;MACV,IAAI;QACH,MAAM;UAACO;QAAD,IAAON,aAAb;QACA,MAAMO,QAAQ,GAAG,MAAM7B,KAAK,CAAC8B,IAAN,CAAW,+BAAX,EAA4C;UAClEC,MAAM,EAAE,IAD0D;UAElEH;QAFkE,CAA5C,CAAvB;;QAKA,IAAGC,QAAQ,CAACG,IAAT,CAAclB,OAAjB,EAA0B;UACzBmB,OAAO,CAACC,GAAR,CAAY,oBAAZ;UACAnB,UAAU,CAAC,IAAD,CAAV;QACA;MAED,CAZD,CAYE,OAAOM,KAAP,EAAc;QACfY,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBb,KAArB;MACA;IACD,CAhBD,MAgBO;MACNY,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACc,OAAlB;IACA;EACD,CA3BD;;EA6BA,oBACC;IAAA,UACE,CAACrB,OAAD,gBACA;MAAM,QAAQ,EAAEI,YAAhB;MAAA,wBACC;QAAU,SAAS,EAAEjB,MAAM,CAACmC,SAA5B;QAAA,uBACC;UAAK,SAAS,EAAEnC,MAAM,CAACoC,OAAvB;UAAA,uBACC,QAAC,WAAD;YAAa,OAAO,EAAEnC;UAAtB;YAAA;YAAA;YAAA;UAAA;QADD;UAAA;UAAA;UAAA;QAAA;MADD;QAAA;QAAA;QAAA;MAAA,QADD,eAMC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAND;IAAA;MAAA;MAAA;MAAA;IAAA,QADA,gBAUA;MAAA,uBACC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA;EAXF,iBADD;AAmBA,CArDD;;GAAMW,U;UAEUd,S,EACED,W;;;KAHZe,U;AAuDN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}